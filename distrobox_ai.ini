# --- THE WORKSPACE (Code, PyTorch, Nostromo) ---
[sar-lab]
image=ubuntu:24.04
pull=true
nvidia=true
start_now=true

# System Dependencies
additional_packages="git curl wget build-essential clang cmake"
additional_packages="gdal-bin libgdal-dev libnetcdf-dev libhdf5-dev"
additional_packages="htop nvtop tmux ripgrep fd-find"
additional_packages="zoxide fzf nodejs"

# DRL & Rendering
additional_packages="libgl1 libglx-mesa0 libosmesa6 libglu1-mesa libegl1 libgles2 xvfb"

# Hooks
entry_hooks="export PATH=$HOME/.npm-global/bin:$HOME/.local/bin:$PATH"
entry_hooks="export UV_VENV_IN_PROJECT=1"


# --- THE BRAIN (Ollama, Local LLMs) ---
[ai-lab]
image=ubuntu:24.04
pull=true
nvidia=true  # Critical: Gives access to your RTX 3060
start_now=true

# Minimal packages needed to install and run Ollama
additional_packages="curl git systemd"

# Optional: Auto-start Ollama when you enter the container (uncomment if desired)
# init_hooks="ollama serve &"
